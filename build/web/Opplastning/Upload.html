<html>
    <head>        
        <title>Upload</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>     
        <link rel="stylesheet" href="Upload.css" type="text/css"/>
    </head>
    <body>
        <div class="container">
            <div class="table-responsive">       
                <div align="center">     
                    <input type ="file" id="load_data" class="btn btn-info">
                </div>
                 <br/>
                <div id="csv_table">
                </div>
            </div>
        </div>
        <script>
            $('#load_data').change(function()
            {
                var rdr = new FileReader();
                rdr.onload = function (e) 
                {               
                    //The input data is split based on the newline character.
                    var csv_data = e.target.result.split(/\n/);
                    //I define a table that will later hold the csv data.
                    var table_data = '<table class="table table-bordered table-striped">';
                    //A simple for loop counting thru csv_data
                    for(var count = 0; count<csv_data.length; count++)
                    {
                        //As csv_data was split based on newline characters I now have to split it again to get individual values
                        var cell_data = csv_data[count].split(",");
                        //makes a new row for each value in csv_data
                        table_data += '<tr>';
                        for(var cell_count=0; cell_count<cell_data.length; cell_count++)
                        {
                            //checks for firs row values
                            if(count === 0)
                            {
                                //first row values are made into headers
                                table_data += '<th>'+cell_data[cell_count]+'</th>';
                            }
                            else
                            {   
                                //Everything else is made into a standard cell
                                table_data += '<td>'+cell_data[cell_count]+'</td>';
                            }
                        }
                        table_data += '</tr>';
                    }
                    table_data += '</table>';
                    $('#csv_table').html(table_data);
                }
                rdr.readAsText($('#load_data')[0].files[0]);
            }); 
        </script>
    </body>
</html>
